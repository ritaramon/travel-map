(this["webpackJsonptest-day-boilerplate"]=this["webpackJsonptest-day-boilerplate"]||[]).push([[0],{352:function(e,t,n){"use strict";n.r(t);var r,a,c,o,i,s,d,l=n(0),u=n.n(l),b=n(45),j=n.n(b),p=n(27),O=n(22),f={SET_LOADING:"SET_LOADING",DISPLAY_CATEGORY_MODAL:"DISPLAY_CATEGORY_MODAL",SET_SIDEBAR_VISIBILITY:"SET_SIDEBAR_VISIBILITY"},x={SET_CATEGORIES_REQUEST:"SET_CATEGORIES_REQUEST",SET_CATEGORIES:"SET_CATEGORIES",ADD_CATEGORY_REQUEST:"ADD_CATEGORY_REQUEST",ADD_CATEGORY:"ADD_CATEGORY",DELETE_CATEGORY_REQUEST:"DELETE_CATEGORY_REQUEST",DELETE_CATEGORY:"DELETE_CATEGORY"},g={UPDATE_CIRCLE:"UPDATE_CIRCLE",SET_CIRCLES:"SET_CIRCLES",SET_SELECTED_CIRCLE_ID:"SET_SELECTED_CIRCLE_ID",ADD_CIRCLE_REQUEST:"ADD_CIRCLE_REQUEST",DELETE_CIRCLE_REQUEST:"DELETE_CIRCLE_REQUEST",DELETE_CIRCLE:"DELETE_CIRCLE",UPDATE_CIRCLE_REQUEST:"UPDATE_CIRCLE_REQUEST",FETCH_CIRCLES_AND_CATEGORIES:"FETCH_MAP_DATA_REQUEST"},A={setLoading:function(e){return{type:f.SET_LOADING,payload:e}},displayCategoryModal:function(){return{type:f.DISPLAY_CATEGORY_MODAL}},setSidebarVisibility:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return{type:f.SET_SIDEBAR_VISIBILITY,payload:e}}},h={setCategories:function(e){return{type:x.SET_CATEGORIES,payload:e}},setCategoriesRequest:function(){return{type:x.SET_CATEGORIES_REQUEST}},addCategory:function(e){return{type:x.ADD_CATEGORY,payload:e}},addCategoryRequest:function(e){return{type:x.ADD_CATEGORY_REQUEST,payload:e}},deleteCategory:function(e){return{type:x.DELETE_CATEGORY,payload:e}},deleteCategoryRequest:function(e){return{type:x.DELETE_CATEGORY_REQUEST,payload:e}}},E={addCircle:function(e){return{type:g.ADD_CIRCLE_REQUEST,payload:e}},setSelectedCircleId:function(e){return{type:g.SET_SELECTED_CIRCLE_ID,payload:e}},setCircles:function(e){return{type:g.SET_CIRCLES,payload:e}},updateCircle:function(e){return{type:g.UPDATE_CIRCLE,payload:e}},deleteCircle:function(e){return{type:g.DELETE_CIRCLE,payload:e}},deleteCircleRequest:function(e){return{type:g.DELETE_CIRCLE_REQUEST,payload:e}},updateCircleRequest:function(e){return{type:g.UPDATE_CIRCLE_REQUEST,payload:e}},fetchCirclesAndCategoriesRequest:function(){return{type:g.FETCH_CIRCLES_AND_CATEGORIES}}},C=n(173),v=n(38),y=n(9),m=n(10),R=m.a.button(r||(r=Object(y.a)(["\n  width: 200px;\n  height: 48px;\n  text-align: center;\n  padding: 8px;\n  font-size: 14px;\n  letter-spacing: 2px;\n  outline: none;\n  border: none;\n  border-radius: 2px;\n  cursor: pointer;\n  background-color: #678786;\n  text-transform: uppercase;\n  color: #ffffff;\n  margin: 16px 0;\n  &:hover {\n    background-color: #759593;\n  }\n"]))),w=Object(m.a)(R)(a||(a=Object(y.a)(["\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n  margin: 0;\n  background-image: url(",");\n  background-repeat: no-repeat;\n  background-position: center;\n  background-size: 16px;\n"])),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYEAQAAAAa7ikwAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAAAGAAAABgAPBrQs8AAAAHdElNRQflBAMRERupMAoEAAAAQklEQVRIx+3S0QkAMAhDQS1d0Sl1xqYbtF9BhNwCDyVm0s0BgBlY7Au2WRU7Ik+OE8ENTJ8p/UXy5UAmOTB8ptLvAip8Ff9rjIE5AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIxLTA0LTAzVDE3OjE3OjI3KzAwOjAwn7ihRgAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMS0wNC0wM1QxNzoxNzoyNyswMDowMO7lGfoAAAAASUVORK5CYII="),T=Object(m.a)(w)(c||(c=Object(y.a)(["\n  background-color: #d64933;\n  background-image: url(",");\n  background-repeat: no-repeat;\n  background-position: center;\n  background-size: 18px;\n  &:hover {\n    background-color: #da5844;\n  }\n"])),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAAbklEQVRIie2Vuw2AMAwFbaaDrSiZM7DH0ZCCfITBEgglV0VW4rPyCos0ATCTs1jeaqEZnmFU9dRz8DRrgywDkec5pP8v8kIGlwI9sNZvC7x0QRd0wYeCLR7i+kovFOqr2QpMQCisyRoBGM2CX7EDl+5m+VisL5MAAAAASUVORK5CYII="),S=n(7),I=n(184),_=n(2),D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#ccc";return{alignItems:"center",display:"flex",":before":{backgroundColor:e,borderRadius:10,content:'" "',display:"block",marginRight:8,height:10,width:10}}},L={container:function(e){return Object(S.a)(Object(S.a)({},e),{},{width:"200px",borderRadius:"2px",border:"none"})},control:function(e){return Object(S.a)(Object(S.a)({},e),{},{borderRadius:"2px",boxShadow:"none",borderColor:"#dfe2e2",":hover":{borderColor:"#dfe2e2"}})},singleValue:function(e,t){var n=t.data;return Object(S.a)(Object(S.a)({},e),D(n.color))},option:function(e,t){var n=t.data,r=t.isSelected;return Object(S.a)(Object(S.a)(Object(S.a)({},e),D(n.color)),{},{backgroundColor:r?"#678786":null,":hover, :active":{backgroundColor:r?null:"#f5f6f6"}})}},k=function(e){var t=e.selectedOption,n=e.options,r=e.onChange,a=n.findIndex((function(e){return e.value==t}));return Object(_.jsx)(I.a,{options:n,styles:L,label:"Single select",name:"color",value:n[a],onChange:function(e){return r(e.value)}})},Q=m.a.textarea(o||(o=Object(y.a)(["\n  width: 100%;\n  padding: 8px;\n  margin: 8px 0;\n  border: 1px solid #dfe2e2;\n  border-radius: 2px;\n  box-sizing: border-box;\n  outline: none;\n  resize: none;\n"]))),U=n(49),B=Object(m.a)(U.b)(i||(i=Object(y.a)(["\n  margin: 8px;\n  text-decoration: none;\n  color: #0077b6;\n  &:hover {\n    opacity: 0.8;\n  }\n"]))),G=Object(m.a)(B)(s||(s=Object(y.a)(["\n  font-size: 12px;\n"]))),M=u.a.forwardRef((function(e,t){return Object(_.jsx)(Y,Object(S.a)(Object(S.a)({},e),{},{ref:t}))})),Y=m.a.form(d||(d=Object(y.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"])));M.displayName="Form";var P,V,z,N=M,F=m.a.div(P||(P=Object(y.a)(["\n  padding: 16px;\n  box-sizing: border-box;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  ","\n"])),(function(e){return e.fullHeight?"height: inherit;":""}));!function(e){e.invalidEmail="Invalid email format!",e.invalidPassword="Password must contain minimum 8 characters, at least one uppercase letter, one lowercase letter and one number!",e.emptyPassword="Password field is empty!",e.passwordsDontMatch="Passwords don't match!",e.categoryEmpty="Category name is empty!"}(V||(V={})),function(e){e.errorMessage="Oops! Something went wrong.",e.updateMessage="Updated!"}(z||(z={}));var J,q,Z,H,K,W,X,$,ee,te,ne,re,ae,ce,oe,ie,se,de,le,ue="#FCA311",be="#006B76",je=function(e){var t,n=e.selectedCircleId,r=Object(O.b)(),a=Object(l.useRef)(null),c=Object(l.useState)(""),o=Object(p.a)(c,2),i=o[0],s=o[1],d=Object(O.c)((function(e){return{categories:e.categoriesData.categories,circles:e.circlesData.circles}})),u=d.categories,b=d.circles.find((function(e){return e._id===n})),j=null!==(t=null===b||void 0===b?void 0:b.data.data.info)&&void 0!==t?t:"",f={value:"Default",label:"Default",color:ue},x=[f].concat(Object(v.a)(u.map((function(e){return{value:e.id,label:e.name,color:e.color}}))));Object(l.useEffect)((function(){var e,t,n=null===b||void 0===b?void 0:b.data.data.category;u.some((function(e){return e.id==n}))||(n=f.value),s(null!==(e=n)&&void 0!==e?e:f.value),null===(t=a.current)||void 0===t||t.reset()}),[n,u]);return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)(F,{children:[Object(_.jsx)("h2",{children:"Details"}),Object(_.jsxs)(N,{ref:a,onSubmit:function(e){e.preventDefault();var t=e.target.description.value,n=null===b||void 0===b?void 0:b.data.data.category;i===n&&t===j||b&&(b.data.data.info=t,b.data.data.category=i,r(E.updateCircleRequest(b)))},children:[Object(_.jsx)(k,{options:x,selectedOption:i,onChange:function(e){s(e)}}),Object(_.jsx)(G,{to:"#",onClick:function(){return r(A.displayCategoryModal())},children:"Manage categories"}),Object(_.jsx)(Q,{name:"description",rows:8,defaultValue:j,placeholder:"Add details.."}),Object(_.jsx)(R,{children:"Update"})]})]}),Object(_.jsx)(F,{children:Object(_.jsx)(T,{type:"button",onClick:function(){return r(E.deleteCircleRequest(n))}})})]})},pe=m.a.div(J||(J=Object(y.a)(["\n  position: relative;\n  width: 100%;\n  height: calc(100% - 60px);\n"]))),Oe=n(128),fe=(n(210),n(354),Oe.a.initializeApp({apiKey:"AIzaSyAFPJ2G6yrOUhP19CxXxzk3TEVUBhnQ4qA",authDomain:"localhost:3000",projectId:"travel-map-844d2"})),xe=fe.firestore().collection("categories"),ge=Oe.a.auth(),Ae=n(23),he=Object(m.a)(B)(q||(q=Object(y.a)(["\n  color: #678388;\n"]))),Ee=m.a.header(Z||(Z=Object(y.a)(["\n  background: #f5f6f6;\n  height: 60px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 8px 16px;\n  box-sizing: border-box;\n  box-shadow: 0 0 20px 0 rgb(0 0 0 / 15%);\n  z-index: 3;\n  position: relative;\n"]))),Ce=m.a.div(H||(H=Object(y.a)(["\n  margin-left: auto;\n"]))),ve=function(){var e=Object(O.b)(),t=Object(Ae.g)(),n=Object(O.c)((function(e){return e.circlesData.selectedCircleId}));return Object(_.jsxs)(Ee,{children:[n&&Object(_.jsx)(w,{onClick:function(){return e(A.setSidebarVisibility())}}),Object(_.jsxs)(Ce,{children:[Object(_.jsxs)(he,{to:"#",onClick:function(){return e(A.displayCategoryModal())},children:[Object(_.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAABiElEQVQ4jaWTP09UQRTFf2feS3A/xBYkZAulRmNooKH3Tyli4i6BzgQEihcGX8EaN5QYNi/RrC1fgEZKCko6sonFfgYNmn1zLXZ3RLJriJzqztx7zj03cwfuCE1KNPLmmkMLAAE7bWfbH8fVpf9QfmnYw2FcBcYKRAev8w/TKf1XmJ2YXAN4cS1vwBdZaCMt9Uk/Fdnmt78cJJQtQ0+QsgmNlk1uGcBZeR94Fh009t4vyNnXG6QLkwoAGXWw2etJC1ps726dpgCphV5pukTURuSf5dXcZ++vAFa8b08llfMoYlymFnoADuDQ73RxbER1qRiRAQaxFbG9Y+PQ73SjwF3gANb9/gyB1uhSRn3F+3uj85uDgwpQj6xAa93vz8DwFfpyVclqsQCbnUoq56t5swD48f1XHXgQ06LWl6sC3bgHjXfNY4mnt3R+fJRtP48jAAQlm8JyWZgHOgyWJ1oCOrIwLywvSd7+MTMBq3nzDHg0LDs7yrYej6ub+BcMOg71YPCZbjHW/+E37qyGPzM5ymEAAAAASUVORK5CYII="})," Categories"]}),Object(_.jsx)(he,{to:"#",onClick:function(){ge.signOut().then((function(){t.push("/login")})).catch((function(e){return console.log(e)}))},children:"Log out"})]})]})},ye=m.a.input(K||(K=Object(y.a)(['\n  width: 200px;\n  max-width: 100%;\n  padding: 8px;\n  margin: 8px 0;\n  height: 40px;\n  border-radius: 2px;\n  border: 1px solid #dfe2e2;\n  outline: none;\n  font-size: 14px;\n  font-family: "Roboto";\n  &:focus {\n    background-color: #f5f6f6;\n  }\n']))),me=n(183),Re=m.a.div(W||(W=Object(y.a)(["\n  background: #fff;\n  width: 32px;\n  height: 32px;\n  border-radius: 25px;\n  display: inline-block;\n  background: ",";\n  cursor: ",";\n"])),(function(e){return e.color}),(function(e){return e.disabled?"auto":"pointer"})),we=m.a.div(X||(X=Object(y.a)(["\n  position: absolute;\n"]))),Te=m.a.div($||($=Object(y.a)(["\n  position: fixed;\n  top: 0px;\n  right: 0px;\n  bottom: 0px;\n  left: 0px;\n"]))),Se=function(e){var t=e.defaultColor,n=e.onColorChange,r=e.disableSelect,a=void 0!==r&&r,c=Object(l.useState)(!1),o=Object(p.a)(c,2),i=o[0],s=o[1],d=Object(l.useState)(null!==t&&void 0!==t?t:"#7BDCB5"),u=Object(p.a)(d,2),b=u[0],j=u[1],O=function(){s(!i)};return Object(_.jsxs)("div",{children:[Object(_.jsx)(Re,{disabled:a,color:b,onClick:function(){return!a&&O()}}),i?Object(_.jsxs)(we,{children:[Object(_.jsx)(Te,{onClick:O}),Object(_.jsx)(me.a,{width:"112px",color:b,onChange:function(e){return function(e){j(e),n&&n(e),s(!1)}(e.hex)}})]}):null]})},Ie=m.a.span(ee||(ee=Object(y.a)(["\n  color: #ea1601;\n  font-size: 14px;\n"]))),_e=function(e){var t=e.children;return Object(_.jsx)(Ie,{children:t})},De=n(179),Le=m.a.div(te||(te=Object(y.a)(["\n  table {\n    table-layout: fixed;\n    border-spacing: 0;\n    width: 100%;\n    tbody tr:hover {\n      background-color: #dfe2e2;\n    }\n\n    tr {\n      padding: 16px 0;\n      border-radius: 25px\n      background-color: #fffff;\n    }\n    \n    th {\n\n      font-weight: normal;\n      letter-spacing: 2px;\n      \n    }\n    th,\n    td {\n      padding: 8px;\n      text-align: center;\n     \n    }\n    td {\n     border-top: 1px solid #dfe2e2;\n    }\n    \n  }\n"]))),ke=function(){var e=Object(O.b)(),t=Object(O.c)((function(e){return e.categoriesData.categories})),n=u.a.useMemo((function(){return t.map((function(t){return{col1:t.name,col2:Object(_.jsx)(Se,{disableSelect:!0,defaultColor:t.color},t.id),col3:Object(_.jsx)(T,{onClick:function(){return t.id?e(h.deleteCategoryRequest(t.id)):null}}),id:t.id}}))}),[t]),r=u.a.useMemo((function(){return[{Header:"Category",accessor:"col1"},{Header:"Color",accessor:"col2"},{Header:"",accessor:"col3"}]}),[]),a=Object(De.useTable)({columns:r,data:n}),c=a.getTableProps,o=a.getTableBodyProps,i=a.headerGroups,s=a.rows,d=a.prepareRow;return 0===s.length?Object(_.jsx)("div",{children:"You don't have any categories at the moment."}):Object(_.jsx)(Le,{children:Object(_.jsxs)("table",Object(S.a)(Object(S.a)({},c()),{},{children:[Object(_.jsx)("thead",{children:i.map((function(e,t){return Object(_.jsx)("tr",Object(S.a)(Object(S.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e,t){return Object(_.jsx)("th",Object(S.a)(Object(S.a)({},e.getHeaderProps()),{},{children:e.render("Header")}),t)}))}),t)}))}),Object(_.jsx)("tbody",Object(S.a)(Object(S.a)({},o()),{},{children:s.map((function(e,t){return d(e),Object(_.jsx)("tr",Object(S.a)(Object(S.a)({},e.getRowProps()),{},{children:e.cells.map((function(e,t){return Object(_.jsx)("td",Object(S.a)(Object(S.a)({},e.getCellProps()),{},{children:e.render("Cell")}),t)}))}),t)}))}))]}))})},Qe=n(130),Ue=n.n(Qe),Be=Object(m.a)(w)(ne||(ne=Object(y.a)(["\n  background-color: #dfe2e2;\n  width: 24px;\n  height: 24px;\n  background-image: url(",");\n  background-repeat: no-repeat;\n  background-position: center;\n  background-color: transparent;\n  &:hover {\n    background-color: #dfe2e2;\n  }\n"])),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAABV0lEQVQ4ja2Tu04CYRCFvwOlvS4tlbayaO+uvIgJoE/gaoGAWUJM7IxoZ2J8BBKTXV4ANjyHhEQLiFb8FlyyLFB4merPzJwzlzM//KcVfX/3pzmpWKAp0Sn6/ukmcKnRKAo6Jd+/mfvSAGfN5p6BWyAjKW+77igKw14CXAZqCAspe1gotLtBMEwDdINgaDvOByIPWBjyueOjzyjodAFKvn+CqAKWQQM0qbfOvTaAlqpME+tABsObSZm6Jvqa+2bg2uP55d0cs0QQa7UKZhs0mHoX78qD57Xi+ekkQRSGPdtx3hfjwNaisndxn8xPJR3rTMaYTbGVDkqNRhnpelpdA9AYsSNS9jp1lgjWbLsmw+smdZYI4grEtx2FYX8hsbBklIuTxA/pCciABoJKfGFRGPZt1x2DDmbj7K87JAspC1wlpZqR9GzXHYFsjHlued7LykZ/85n+bN/xlKPZJO8iIAAAAABJRU5ErkJggg=="),Ge=m.a.div(re||(re=Object(y.a)(["\n  text-align: center;\n"]))),Me=m.a.div(ae||(ae=Object(y.a)(["\n  position: absolute;\n  top: 8px;\n  right: 8px;\n"]))),Ye={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",border:"none",backgroundColor:"#f5f6f6",width:"100%",maxWidth:"600px",boxShadow:"0 0 20px 0 rgb(0 0 0 / 15%)",maxHeight:"calc(100vh - 16px)",overflow:"auto"},overlay:{zIndex:4}},Pe=function(e){var t=e.isOpen,n=e.onClose,r=e.children;return Ue.a.setAppElement("#root"),Object(_.jsx)(Ue.a,{isOpen:t,style:Ye,children:Object(_.jsxs)(Ge,{children:[Object(_.jsx)(Me,{children:Object(_.jsx)(Be,{onClick:function(){return n()}})}),r]})})},Ve=function(){var e=Object(O.b)(),t=Object(l.useState)(be),n=Object(p.a)(t,2),r=n[0],a=n[1],c=Object(l.useState)(""),o=Object(p.a)(c,2),i=o[0],s=o[1],d=Object(O.c)((function(e){return e.appData.isCategoryModalVisible}));return Object(_.jsxs)(Pe,{isOpen:d,onClose:function(){e(A.displayCategoryModal()),s(""),a(be)},children:[Object(_.jsx)("h2",{children:"Categories"}),Object(_.jsx)("p",{children:"If you want to add category, select a color you want and add a name!"}),Object(_.jsxs)(N,{onSubmit:function(t){t.preventDefault();var n=t.target,a=n.category.value.trim();a?(s(""),e(h.addCategoryRequest({name:a,color:r})),n.reset()):s(V.categoryEmpty)},children:[Object(_.jsx)(Se,{onColorChange:function(e){return a(e)},defaultColor:r}),Object(_.jsx)(ye,{name:"category",placeholder:"Add category name...",maxLength:25}),Object(_.jsx)(R,{children:"Add"}),Object(_.jsx)(_e,{children:i})]}),Object(_.jsx)(ke,{})]})},ze=n.p+"static/media/howToDraw.8345336b.png",Ne=function(){var e=Object(l.useState)(!0),t=Object(p.a)(e,2),n=t[0],r=t[1];return Object(_.jsxs)(Pe,{isOpen:n,onClose:function(){localStorage.setItem("howToModal","hidden"),r(!1)},children:[Object(_.jsx)("h2",{children:"Hello there!"}),Object(_.jsxs)("p",{children:["This is a quick help on how to mark places in the map.",Object(_.jsx)("br",{}),"Select the circle in top left corner and start drawing:"]}),Object(_.jsx)("img",{src:ze,width:"100%",alt:""})]})},Fe=n(40),Je=(n(329),m.a.div(ce||(ce=Object(y.a)(["\n  .Toastify__toast {\n    border-radius: 2px;\n    text-align: center;\n  }\n  .Toastify__toast--error {\n    background-color: #d64933;\n  }\n\n  .Toastify__toast--success {\n    background-color: #589d7c;\n  }\n"])))),qe=function(){return Object(_.jsx)(Je,{children:Object(_.jsx)(Fe.b,{position:"bottom-center",transition:Fe.a,hideProgressBar:!0,autoClose:4e3})})},Ze=n(180),He=n.n(Ze),Ke=m.a.div(oe||(oe=Object(y.a)(["\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  z-index: 5;\n"]))),We=function(e){var t=e.loading;return Object(_.jsx)(Ke,{children:Object(_.jsx)(He.a,{color:"#759593",loading:t,size:48})})},Xe=n(358),$e=n(359),et=n(357),tt=n(185),nt=n(356),rt=function(e){var t,n=e.element,r=e.isSelected,a=e.color,c=Object(O.b)();return Object(_.jsx)(nt.a,{id:n._id,center:[n.x,n.y],radius:null===(t=n.data)||void 0===t?void 0:t.data.radius,fillOpacity:r?.4:.2,weight:r?3:2,color:null!==a&&void 0!==a?a:ue,onClick:function(e){c(E.setSelectedCircleId(e.target.options.id)),c(A.setSidebarVisibility(!0))}})},at=u.a.memo(rt),ct=function(){var e=Object(O.b)(),t=Object(l.useRef)(null),n=Object(O.c)((function(e){return{circles:e.circlesData.circles,selectedCircleId:e.circlesData.selectedCircleId,categories:e.categoriesData.categories}})),r=n.circles,a=n.selectedCircleId,c=n.categories;return Object(_.jsxs)(Xe.a,{center:[50,50],zoom:4,minZoom:1,children:[Object(_.jsx)($e.a,{noWrap:!0,attribution:'\xa9 <a href="https://carto.com/">carto.com</a> contributors',url:"https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}.png"}),Object(_.jsx)(et.a,{ref:t,children:Object(_.jsx)(tt.a,{position:"topleft",onCreated:function(n){var r;if(null===t||void 0===t||null===(r=t.current)||void 0===r||r.leafletElement.removeLayer(n.layer),-180<=n.layer._latlng.lng&&n.layer._latlng.lng<=180&&-90<=n.layer._latlng.lat&&n.layer._latlng.lat<=90){var a,c={x:n.layer._latlng.lat,y:n.layer._latlng.lng,userId:null===(a=ge.currentUser)||void 0===a?void 0:a.uid,data:{name:"user",color:"#000000",data:{radius:n.layer._mRadius}}};e(E.addCircle(c))}},draw:{polygon:!1,polyline:!1,rectangle:!1,marker:!1,circlemarker:!1,circle:{shapeOptions:{color:ue,weight:"2"},showLength:!1,metric:!1,clickable:!0,showRadius:!1}},edit:{edit:!1,remove:!1}})}),r.map((function(e){var t=e._id+""+e.x+e.y,n=e._id===a,r=c.find((function(t){return t.id===e.data.data.category}));return Object(_.jsx)(at,{element:e,isSelected:n,color:null===r||void 0===r?void 0:r.color},t)}))]})},ot=function(){var e=Object(O.b)(),t=Object(O.c)((function(e){return{selectedCircleId:e.circlesData.selectedCircleId,sidebarVisibility:e.appData.isSidebarVisible,appLoading:e.appData.loading}})),n=t.selectedCircleId,r=t.sidebarVisibility,a=t.appLoading;return Object(l.useEffect)((function(){e(E.fetchCirclesAndCategoriesRequest())}),[]),Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(ve,{}),Object(_.jsxs)(pe,{children:[Object(_.jsx)(We,{loading:a}),Object(_.jsx)(qe,{}),Object(_.jsx)(Ve,{}),!localStorage.getItem("howToModal")&&Object(_.jsx)(Ne,{}),Object(_.jsx)(C.a,{docked:r,sidebar:n?Object(_.jsx)(je,{selectedCircleId:n}):"",styles:{sidebar:{backgroundColor:"#f5f6f6",width:"240px"}},children:Object(_.jsx)(ct,{})})]})]})},it=n(182),st=m.a.div(ie||(ie=Object(y.a)(["\n  padding: 32px 16px;\n  background-color: #ffffff;\n  width: 500px;\n  max-width: 100%;\n  box-shadow: 0 0 20px 0 rgb(0 0 0 / 15%);\n  text-align: center;\n"]))),dt=function(){var e=Object(Ae.g)(),t=Object(l.useState)({}),n=Object(p.a)(t,2),r=n[0],a=n[1];return Object(_.jsxs)(st,{children:[Object(_.jsx)("h2",{children:"Login"}),Object(_.jsxs)(N,{onSubmit:function(t){t.preventDefault();var n=t.target,r=n.password.value,c=n.email.value,o={};/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(c)||(o.email=V.invalidEmail),r||(o.password=V.emptyPassword),a(o),Object.values(o).every((function(e){return""===e}))&&ge.signInWithEmailAndPassword(n.email.value,n.password.value).then((function(){e.push("/")})).catch((function(e){a({serverError:e.message})}))},children:[Object(_.jsx)(ye,{name:"email",type:"text",placeholder:"Enter email"}),Object(_.jsx)(_e,{children:null===r||void 0===r?void 0:r.email}),Object(_.jsx)(ye,{name:"password",type:"password",placeholder:"Enter password"}),Object(_.jsx)(_e,{children:null===r||void 0===r?void 0:r.password}),Object(_.jsx)(_e,{children:null===r||void 0===r?void 0:r.serverError}),Object(_.jsx)(R,{children:"LOGIN"}),"Don't have an account yet?",Object(_.jsx)(B,{to:"/register",children:"Register!"})]})]})},lt=n.p+"static/media/globeIllustration.a6063375.png",ut=m.a.div(se||(se=Object(y.a)(["\n  padding: 32px;\n  text-align: center;\n  img {\n    width: 60%;\n    max-width: 650px;\n  }\n"]))),bt=m.a.div(de||(de=Object(y.a)(["\n  flex: 1 1 0;\n"]))),jt=m.a.div(le||(le=Object(y.a)(["\n  display: flex;\n  width: 100%;\n  align-items: center;\n"]))),pt=function(){var e=Object(it.useMediaQuery)({query:"(max-width: 768px)"});return ge.currentUser?Object(_.jsx)(Ae.a,{to:"/"}):Object(_.jsx)(pe,{children:Object(_.jsx)(F,{fullHeight:!0,children:e?Object(_.jsx)(dt,{}):Object(_.jsxs)(jt,{children:[Object(_.jsx)(bt,{children:Object(_.jsx)(ut,{children:Object(_.jsx)("img",{src:lt})})}),Object(_.jsxs)(bt,{children:[Object(_.jsxs)("h1",{children:["Mark places on the map by ",Object(_.jsx)("br",{}),"creating circles!"]}),Object(_.jsx)(dt,{})]})]})})})},Ot=function(){var e=Object(l.useState)({}),t=Object(p.a)(e,2),n=t[0],r=t[1];return ge.currentUser?Object(_.jsx)(Ae.a,{to:"/"}):Object(_.jsx)(pe,{children:Object(_.jsx)(F,{fullHeight:!0,children:Object(_.jsxs)(st,{children:[Object(_.jsx)("h2",{children:"Sign Up"}),Object(_.jsx)("p",{children:"Create an account"}),Object(_.jsxs)(N,{onSubmit:function(e){e.preventDefault();var t=e.target,n=t.password.value,a=t.email.value,c=t.passwordConfirm.value,o={};/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a)||(o.email=V.invalidEmail),/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{8,}$/.test(n)?n!==c&&(o.passwordConfirm=V.passwordsDontMatch):o.password=V.invalidPassword,r(o),Object.values(o).every((function(e){return""===e}))&&ge.createUserWithEmailAndPassword(t.email.value,t.password.value).catch((function(e){return console.log(e)}))},children:[Object(_.jsx)(ye,{name:"email",type:"text",placeholder:"Enter email"}),Object(_.jsx)(_e,{children:n.email}),Object(_.jsx)(ye,{name:"password",type:"password",placeholder:"Enter password"}),Object(_.jsx)(_e,{children:n.password}),Object(_.jsx)(ye,{name:"passwordConfirm",type:"password",placeholder:"Repeat password"}),Object(_.jsx)(_e,{children:n.passwordConfirm}),Object(_.jsx)(R,{children:"Sign up"})]}),Object(_.jsxs)("p",{children:["Already have an account?",Object(_.jsx)(B,{to:"/login",children:"Sign in!"})]})]})})})},ft=function(e){var t=Object.assign({},e);return ge.currentUser?Object(_.jsx)(Ae.b,Object(S.a)({},t)):Object(_.jsx)(Ae.a,{to:"/login"})},xt=function(){var e=Object(l.useState)(!0),t=Object(p.a)(e,2),n=t[0],r=t[1];return Object(l.useEffect)((function(){ge.onAuthStateChanged((function(){r(!1)}))}),[]),n?Object(_.jsx)(We,{loading:n}):Object(_.jsx)(U.a,{basename:"/travel-map",children:Object(_.jsxs)(Ae.d,{children:[Object(_.jsx)(Ae.b,{path:"/login",exact:!0,component:pt}),Object(_.jsx)(Ae.b,{path:"/register",exact:!0,component:Ot}),Object(_.jsx)(ft,{path:"/",exact:!0,component:ot})]})})},gt=n(51),At=n(186),ht={isSidebarVisible:!1,loading:!1,isCategoryModalVisible:!1},Et={categories:[]},Ct={circles:[],selectedCircleId:""},vt=Object(gt.c)({appData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.SET_LOADING:return Object(S.a)(Object(S.a)({},e),{},{loading:t.payload});case f.SET_SIDEBAR_VISIBILITY:var n;return Object(S.a)(Object(S.a)({},e),{},{isSidebarVisible:null!==(n=t.payload)&&void 0!==n?n:!e.isSidebarVisible});case f.DISPLAY_CATEGORY_MODAL:return Object(S.a)(Object(S.a)({},e),{},{isCategoryModalVisible:!e.isCategoryModalVisible});default:return e}},circlesData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ct,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.SET_CIRCLES:return Object(S.a)(Object(S.a)({},e),{},{circles:t.payload});case g.UPDATE_CIRCLE:var n=e.circles.filter((function(e){return e.x!==t.payload.x&&e.y!==t.payload.y}));return Object(S.a)(Object(S.a)({},e),{},{circles:[].concat(Object(v.a)(n),[t.payload])});case g.DELETE_CIRCLE:var r=e.circles.filter((function(e){return e._id!==t.payload}));return Object(S.a)(Object(S.a)({},e),{},{circles:r});case g.SET_SELECTED_CIRCLE_ID:return Object(S.a)(Object(S.a)({},e),{},{selectedCircleId:t.payload});default:return e}},categoriesData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x.ADD_CATEGORY:return Object(S.a)(Object(S.a)({},e),{},{categories:[t.payload].concat(Object(v.a)(e.categories))});case x.SET_CATEGORIES:return Object(S.a)(Object(S.a)({},e),{},{categories:t.payload});case x.DELETE_CATEGORY:var n=e.categories.filter((function(e){return e.id!==t.payload}));return Object(S.a)(Object(S.a)({},e),{},{categories:n});default:return e}}}),yt=n(16),mt=n.n(yt),Rt=n(13),wt=n(57),Tt=function(){var e=Object(wt.a)(mt.a.mark((function e(t){var n;return mt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe.add(Object(S.a)({userId:null===(n=ge.currentUser)||void 0===n?void 0:n.uid},t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),St=function(){var e=Object(wt.a)(mt.a.mark((function e(){var t;return mt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe.where("userId","==",null===(t=ge.currentUser)||void 0===t?void 0:t.uid).get();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),It=function(){var e=Object(wt.a)(mt.a.mark((function e(t){return mt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe.doc(t).delete();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_t=mt.a.mark(Lt),Dt=mt.a.mark(kt);function Lt(e){var t,n;return mt.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(Rt.c)(A.setLoading(!0));case 3:return e.payload.userId=null===(t=ge.currentUser)||void 0===t?void 0:t.uid,r.next=6,Object(Rt.b)(Tt,e.payload);case 6:return n=r.sent,e.payload.id=n.id,r.next=10,Object(Rt.c)(h.addCategory(e.payload));case 10:r.next=16;break;case 12:return r.prev=12,r.t0=r.catch(0),r.next=16,Object(Rt.b)(Fe.c.error,z.errorMessage);case 16:return r.prev=16,r.next=19,Object(Rt.c)(A.setLoading(!1));case 19:return r.finish(16);case 20:case"end":return r.stop()}}),_t,null,[[0,12,16,20]])}function kt(e){return mt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(Rt.c)(A.setLoading(!0));case 3:return t.next=5,Object(Rt.b)(It,e.payload);case 5:return t.next=7,Object(Rt.c)(h.deleteCategory(e.payload));case 7:t.next=13;break;case 9:return t.prev=9,t.t0=t.catch(0),t.next=13,Object(Rt.b)(Fe.c.error,z.errorMessage);case 13:return t.prev=13,t.next=16,Object(Rt.c)(A.setLoading(!1));case 16:return t.finish(13);case 17:case"end":return t.stop()}}),Dt,null,[[0,9,13,17]])}var Qt,Ut=[Object(Rt.d)(x.DELETE_CATEGORY_REQUEST,kt),Object(Rt.d)(x.ADD_CATEGORY_REQUEST,Lt)],Bt=n(99),Gt=n.n(Bt),Mt="https://simutis.dev/api";!function(e){e.getBoard="/board",e.postBoard="/board",e.deleteCell="/board/cell/delete"}(Qt||(Qt={}));var Yt=function(){var e=Object(wt.a)(mt.a.mark((function e(){var t,n,r;return mt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(Mt+Qt.getBoard,"?x=-90&y=-180&w=180&h=360&userId=").concat(null===(t=ge.currentUser)||void 0===t?void 0:t.uid),r=Gt()(n,{method:"GET"}),e.next=4,r;case 4:return e.abrupt("return",e.sent.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Pt=function(){var e=Object(wt.a)(mt.a.mark((function e(t){var n,r,a;return mt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Mt+Qt.postBoard,r=Gt()({method:"POST",url:n,data:{x:t.x,y:t.y,name:t.data.name,color:t.data.color,userId:t.userId,data:{category:t.data.data.category,radius:t.data.data.radius,info:t.data.data.info}}}),e.next=4,r;case 4:return a=e.sent,e.abrupt("return",{status:a.status,id:a.data.id});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Vt=function(){var e=Object(wt.a)(mt.a.mark((function e(t){var n,r;return mt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Mt+Qt.deleteCell,r=Gt()({method:"POST",url:n,data:{id:t}}),e.next=4,r;case 4:return e.abrupt("return",e.sent.status);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),zt=mt.a.mark(qt),Nt=mt.a.mark(Zt),Ft=mt.a.mark(Ht),Jt=mt.a.mark(Kt);function qt(e){var t;return mt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(Rt.c)(E.updateCircle(Object(S.a)({},e.payload)));case 3:return n.next=5,Object(Rt.b)(Pt,e.payload);case 5:return t=n.sent,e.payload._id=t.id,n.next=9,Object(Rt.c)(E.updateCircle(Object(S.a)({},e.payload)));case 9:return n.next=11,Object(Rt.c)(E.setSelectedCircleId(t.id));case 11:return n.next=13,Object(Rt.c)(A.setSidebarVisibility(!0));case 13:n.next=19;break;case 15:return n.prev=15,n.t0=n.catch(0),n.next=19,Object(Rt.b)(Fe.c.error,z.errorMessage);case 19:case"end":return n.stop()}}),zt,null,[[0,15]])}function Zt(e){return mt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(Rt.b)(Pt,e.payload);case 3:return t.next=5,Object(Rt.c)(E.updateCircle(Object(S.a)({},e.payload)));case 5:return t.next=7,Object(Rt.b)(Fe.c.success,z.updateMessage);case 7:t.next=13;break;case 9:return t.prev=9,t.t0=t.catch(0),t.next=13,Object(Rt.b)(Fe.c.error,z.errorMessage);case 13:case"end":return t.stop()}}),Nt,null,[[0,9]])}function Ht(e){return mt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(Rt.b)(Vt,e.payload);case 3:return t.next=5,Object(Rt.c)(E.deleteCircle(e.payload));case 5:return t.next=7,Object(Rt.c)(E.setSelectedCircleId(""));case 7:return t.next=9,Object(Rt.c)(A.setSidebarVisibility(!1));case 9:t.next=15;break;case 11:return t.prev=11,t.t0=t.catch(0),t.next=15,Object(Rt.b)(Fe.c.error,z.errorMessage);case 15:case"end":return t.stop()}}),Ft,null,[[0,11]])}function Kt(){var e,t,n;return mt.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(Rt.c)(A.setLoading(!0));case 3:return r.next=5,Object(Rt.b)(Yt);case 5:return e=r.sent,r.next=8,Object(Rt.c)(E.setCircles(e));case 8:return r.next=10,Object(Rt.b)(St);case 10:return t=r.sent,n=[],t.forEach((function(e){var t=e.data();n.push(Object(S.a)({id:e.id},t))})),r.next=15,Object(Rt.c)(h.setCategories(n));case 15:r.next=21;break;case 17:return r.prev=17,r.t0=r.catch(0),r.next=21,Object(Rt.b)(Fe.c.error,z.errorMessage);case 21:return r.prev=21,r.next=24,Object(Rt.c)(A.setLoading(!1));case 24:return r.finish(21);case 25:case"end":return r.stop()}}),Jt,null,[[0,17,21,25]])}var Wt=[Object(Rt.d)(g.ADD_CIRCLE_REQUEST,qt),Object(Rt.d)(g.UPDATE_CIRCLE_REQUEST,Zt),Object(Rt.d)(g.DELETE_CIRCLE_REQUEST,Ht),Object(Rt.d)(g.FETCH_CIRCLES_AND_CATEGORIES,Kt)],Xt=mt.a.mark($t);function $t(){return mt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Rt.a)([].concat(Object(v.a)(Wt),Object(v.a)(Ut)));case 2:case"end":return e.stop()}}),Xt)}var en=$t,tn=Object(At.a)(),nn=Object(gt.e)(vt,Object(gt.a)(tn));tn.run(en);var rn=nn;j.a.render(Object(_.jsx)(u.a.StrictMode,{children:Object(_.jsx)(O.a,{store:rn,children:Object(_.jsx)(xt,{})})}),document.getElementById("root"))}},[[352,1,2]]]);
//# sourceMappingURL=main.5fa3ec82.chunk.js.map